# gdb
1. 起動 - デバッグする対象のバイナリをフルパスで指定
2. ブレークポイントを設定 - ブレークポイントを設定したい関数を指定
3. コードを実行
4. 対象のバイナリの行番号を指定して実行
5. バックトレースを表示
6. プログラムの停止箇所を表示
7. printデバッグ
8. ステップアウト実行(現在実行中の関数をステップ実行)
9. プログラムの実行を再開
10. ステップイン実行(別の関数に入った場合はその関数でもステップ実行)
11. gdbを終了
12. 実行中のプロセスにアタッチ

```
$ gdb /usr/bin/ruby

(gdb) break rb_inspect
(gdb) run -e 'p C.from_mruby'
(gdb) run -n 5
(gdb) backtrace
(gdb) list
(gdb) print xxxx
(gdb) next
(gdb) c
(gdb) step
(gdb) quit

$ gdb -p デバッグするプロセスID
```

#### 特定の関数にブレイクポイントを打つ
- main()関数の処理が始まる地点にブレイクポイントを打つ

```
(gdb) b main
```

#### レジスタの詳細の確認
```
(gdb) i register
```

#### 関数が始まるアドレスを確認
- main()関数が始まるアドレスを確認

```
(gdb) p main
```

#### 指定の数の文字列を生成する
- 24文字の文字列を生成する

```
(gdb) pattc 24
"AAA%AAsAABAA$AAnAACAAAA"
```

#### 指定の文字列が`pattc`で生成した文字列のうちどの位置にいるのかを確認する
- `pattc`で生成した文字列のうち`AACA`の位置を確認する

```
(gdb) patto AACA
AACA found at offset: 16
```

## 参照
- 独習アセンブラ
- Webで使えるmrubyシステムプログラミング入門
- はじめて学ぶバイナリ解析 不正なコード型コンピュータを守るサイバーセキュリティ技術
