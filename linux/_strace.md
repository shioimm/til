# straceコマンド
- 参照: [Strace](https://wiki.ubuntu.com/Strace)
- 参照: Webで使えるmrubyシステムプログラミング入門 Section013

## TL;DR
- プログラム中で使用されているシステムコールをトレースし、
  表示したり集計したりするユーティリティコマンド

## Getting Started
```
$ apt-get install strace
```

## Usage
```
$ strace トレースするコマンド名
```

- 絞り込みを行う
```
$ strace -e 絞り込みたいコマンド名 トレースするコマンド名
```

- タイムスタンプを表示する
```
 $ strace -t トレースするコマンド名
```

- 実行経過時間を表示する
```
$ strace -T トレースするコマンド名
```

- 実行中のプロセスにアタッチする
  - strace実行後にプロセスを操作すると動的にトレースできる
```
$ strace -p プロセスID
```

- forkしたプロセスにアタッチする
```
$ strace -f トレースするプログラムの実行 >/dev/null
```

- 全てのファイルディスクリプタに対しreadされたデータをトレースする
```
$ strace -e read=all -e trace=絞り込みたいコマンド名 トレースするコマンド名 >/dev/null
```

- 特定のファイルディスクリプタをトレースする
```
$ strace -e read=FD番号 -e trace=readまたはwrite トレースするコマンド名 >/dev/null
```

- 操作しているファイルディスクリプタの情報を表示する
```
$ strace -y トレースするコマンド名
```

- システムコールの実行回数と実行時間の合計を集計して表示する
```
$ strace -c トレースするコマンド名
```

- システムコールの実行回数と実行時間(CPUを使わない操作でかかった時間も含め)集計して表示する
```
$ strace -c -w トレースするコマンド名
```
