# strace(1)
- プログラム中で使用されているシステムコールをトレースし、表示したり集計したりするユーティリティコマンド

## Getting Started
```
$ apt-get install strace
```

```
$ strace トレースするプログラムの実行
```

- 絞り込みを行う
```
$ strace -e 絞り込みたいコマンド名 トレースするプログラムの実行
```

- タイムスタンプを表示する
```
 $ strace -t トレースするプログラムの実行
```

- 実行経過時間を表示する
```
$ strace -T トレースするプログラムの実行
```

- 実行中のプロセスにアタッチする
  - strace実行後にプロセスを操作すると動的にトレースできる
```
$ strace -p プロセスID
```

- forkしたプロセスにアタッチする
```
$ strace -f トレースするプログラムの実行 >/dev/null
```

- 全てのファイルディスクリプタに対しreadされたデータをトレースする
```
$ strace -e read=all -e trace=絞り込みたいコマンド名 トレースするプログラムの実行 >/dev/null
```

- 特定のファイルディスクリプタをトレースする
```
$ strace -e read=FD番号 -e trace=readまたはwrite トレースするプログラムの実行 >/dev/null
```

- 操作しているファイルディスクリプタの情報を表示する
```
$ strace -y トレースするプログラムの実行
```

- システムコールの実行回数と実行時間の合計を集計して表示する
```
$ strace -c トレースするプログラムの実行
```

- システムコールの実行回数と実行時間(CPUを使わない操作でかかった時間も含め)集計して表示する
```
$ strace -c -w トレースするプログラムの実行
```

- トレースした内容を別のファイルに出力する
```
$ strace -o 出力先ファイル名 トレースするプログラムの実行
```

## 参照
- [Strace](https://wiki.ubuntu.com/Strace)
- Webで使えるmrubyシステムプログラミング入門 Section013
