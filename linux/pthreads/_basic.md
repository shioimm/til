# 概要
- 参照: Linuxとpthreadsによるマルチスレッドプログラミング入門 P2

## プロセスとスレッドの違い
- 参照: [Rubyのスケール時にGVLの特性を効果的に活用する（翻訳）](https://techracho.bpsinc.jp/hachi8833/2020_05_27/92042)

### コンカレンシーとパラレリズム
- コンカレンシー: 並列処理(マルチプロセス)
  - Ex. 一人のレジ係がn人の顧客に対して同時に1:nで対応
- パラレリズム: 平行処理(マルチスレッド)
  - Ex. n人のレジ係がn人の顧客に対して同時に1:1で対応

### プロセス
- 実行中のプログラム / リソースを共有するスレッドをまとめて取り扱う単位
- プロセスごとに独立したメモリ空間を持つ
- 他のプロセスが作成したファイルハンドルを操作することができない
- ファイルパス名が同じファイルは全てのプロセスにとって同一のものとして扱われる
- 他のプロセス内のスレッドを操作することはできない
- プロセス間のコンテキストスイッチはオーバーヘッドが大きい

### スレッド
- OSがCPUの実行を割り当てる最小単位
- 同じプロセス内に存在するスレッド同士でメモリ空間を共有する
- 同じプロセス内に存在する他のスレッドが作成したファイルハンドルを操作することができる
- ファイルパス名が同じファイルは同じプロセス内に存在する全てのスレッドにとって同一のものとして扱われる
- 同じプロセス内に存在する他のスレッドを操作することができる
- 同じプロセス内に存在するスレッド間のコンテキストスイッチはオーバーヘッドが小さい

## `pthread`ライブラリの動作
- スレッドの管理
  - `thread_create(3)` - スレッド生成
  - `pthread_exit(3)`  - 現在のスレッド終了
  - `pthread_join(3)`  - スレッドの終了待ち
  - `pthread_self(3)`  - 自身のスレッドIDを得る
  - `pthread_equal(3)` - スレッドIDが等しいか調べる
- 動作の排他(動作同期)
  - `pthread_mutex_init(3)`           - ミューテックスの初期化
  - `pthread_mutex_destroy(3)`        - ミューテックスの破棄
  - `pthread_mutex_lock(3)`           - ミューテックスのロック
  - `pthread_mutex_trylock(3)`        - ミューテックスのロック
  - `pthread_mutex_unlock(3)`         - ミューテックスのロック解除
  - `pthread_mutex_cond_wait(3)`      - 条件変数が有効になるのを待つ
  - `pthread_mutex_cond_timedwait(3)` - 条件変数が有効になるのを待つ
- イベント通知(条件待ち同期)
  - `pthread_cond_wait(3)`    - 条件変数の初期化
  - `pthread_cond_destroy(3)` - 条件変数の破棄
  - `pthread_cond_signal(3)`  - 条件変数の有効化
- 動作の一時停止
  - 該当の関数は存在しない
