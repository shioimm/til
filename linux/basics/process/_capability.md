# ケーパビリティ
- 参照: Linuxプログラミングインターフェース 39章

## TL;DR
- UNIXの特権プロセスが持つ権限の検査を機能別に有効化・無効化及び検査する方式
  - 従来の権限検査ではプロセスに特権プロセスと一般プロセスの区分しかなく、
    プロセスに必要以上の権限を付与してしまうケースがある
  - スーパーユーザー権限を細分化したケーパビリティという単位で権限検査を行うことにより
    きめ細かに権限付与を行うことができる

## Linuxのケーパビリティ
- Linuxプログラミングインターフェース 39章 P844

## ケーパビリティセット
- `permitted` / `effective` / `inheritable`
- それぞれのケーパビリティセットにケーパビリティを複数設定することが可能

### プロセスのケーパビリティセット
- `permitted`
  - プロセスが`effective` / `inheritable`に設定できるケーパビリティセット
- `effective`
  - カーネルがプロセスの権限検査に使用するケーパビリティセット
- `inheritable`
  - プロセスがプログラムを実行する際に受け継いで良いケーパビリティセット

### ファイルのケーパビリティセット
- そのファオルを実行するプロセスのケーパビリティセット
- `permitted`
  - `exec`時に、プロセスが持つケーパビリティとは無関係に
    プロセスの`permitted`セットに追加するケーパビリティセット
- `effective`
  - 1ビットで表現される
  - 設定時、`exec`時にプロセスの新`permitted`ケーパビリティセット
    および新`effective`ケーパビリティセットを有効にする
  - 解除時、プロセスの新`effective`ケーパビリティセットを空にする
- `inheritable`
  - プロセスの`inheritable`ケーパビリティセットをマスクし、
    `exec`後のプロセスの`permitted`ケーパビリティセットに設定可能なケーパビリティを決定する
