# 仮想メモリ
- 参照: Linuxプログラミングインターフェース 6章

## TL;DR
- 空間的局所性・時間的局所性に基づき、CPUとRAM(物理メモリ)を効率的に使用する仕組み

### 空間的局所性
- プログラムは直近にアクセスしたメモリに近いアドレスへアクセスするという傾向
- 命令はシーケンシャルに実行され、データもシーケンシャルに処理される

### 時間的局所性
- プログラムは直近にアクセスしたメモリへ近い将来再びアクセスするという傾向

## 仮想メモリの仕組み
1. プログラムが使用するメモリを固定サイズの小さな単位(ページ)に分割する
    - 物理メモリも同じサイズのページフレームに分割する
2. プログラムの未使用ページはスワップ領域に置かれ、必要時に物理メモリへロードされる
    - プログラムの一部のページは物理メモリページフレーム内に常時存在する(常駐メモリ)
3. プロセスが物理メモリ上に存在しないページを参照すると、ページフォールトが発生する
   ページがディスクからメモリへロードされるまで、カーネルがプロセスの実行を一時停止する

## ページテーブル
- プロセスが使用可能な仮想メモリの全ページ位置を管理するためのテーブル
  - 各テーブルエントリはプロセス仮想アドレス空間のアドレス位置と物理メモリのアドレス位置を紐づける
- カーネルはプロセス毎にページテーブルを管理する
