# 時間
- 参照: Linuxプログラミングインターフェース 10章
- 参照: 詳解UNIXプログラミング第3版 6. システムデータファイルと情報

## TL;DR
- 実時間 - カレンダー時間 / プロセス開始以降のある時点を起点とする時間
- プロセス時間 - プロセスの実行開始以降にそのプロセスが消費した総CPU時間
  - カーネルCPU時間 - カーネルモードで消費した時間(カーネルがCPUを使用した時間)
  - ユーザーCPU時間 - ユーザーモードで消費した時間(ユーザープログラムCPUを使用した時間)

### カレンダー時間
- Epoch - UNIX紀元1970年1月1日0時0分0秒

### Unixにおける日時の扱い
- UTCで時刻を保持する
- 夏時間の変換を自動的に処理する
- 日時を一つの量として扱う

## タイムゾーン
- タイムゾーンは外部ファイル`/usr/share/zoneinfo`にて定義される
  - ディレクトリ以下の1ファイルが1地域のタイムゾーン情報に対応する
  - プログラムで使用するタイムゾーンを指定するためには`/usr/share/zoneinfo`以下のサブディレクトリを指定する
- システムのローカルタイムは`/etc/localtime`で定義される
  - `/usr/share/zoneinfo`以下のファイルへのリンクとして作成される場合が多い

### タイムゾーンの指定
- 環境変数`TZ`へ`/usr/share/zoneinfo`以下のファイルを代入する
  - ファイル名の先頭に`:`をつける
- 環境変数`TZ`へ`std offset[dst[offset][,start-date[/time],end-date[/time]]]`を代入する
  - `std` - タイムゾーン標準名
  - `dst` - DST期間内の名前
  - `offset` - UTCへ変換する際の時差

## ソフトウェアクロック(jiffies)
- 時間関連のシステムコールの精度はシステムのソフトウェアクロックの解像度に依存する
  - jiffies - ソフトウェアクロックの解像度で表した時間の単位
    - マクロ変数`HZ`に格納される
  - カーネルがラウンドロビンタイムシェアリングスケジューリングアルゴリズムの
    プロセスへCPUを与える際もjiffies単位で与える
- ソフトウェアクロックの値はソースコード上で固定されておらず、
  コンフィグメニューからユーザーが変更可能
