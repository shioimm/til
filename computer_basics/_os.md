# OS
- 参照: 例解UNIX/Linuxプログラミング教室 システムコールを使いこなすための12講 P1-4/96

## 役割
### プログラムの実行
- プログラムをファイルからメモリにコピー
  -> プログラムがコピーされたメモリ領域を指すようにプログラムカウンタを修正
  -> CPUがプログラムを実行
- プログラム実行中カーネルの実行は止まっている
  -> タイマー割り込みを使い割り込みハンドラなどを実行する
  -> プログラムカウンタがメモリ上のカーネルの位置に戻る
  -> プログラムの実行がカーネルに戻る

### ブロック
- プログラムの実行を一時的に中断すること
  - OSはあるプログラムの実行がブロックした場合、他のプログラムの実行に切り替える(プロセス切り替え)

### プリエンプティブ・マルチタスク
- 見かけ上同時に複数のプログラムを実行する(平行実行)仕組み
  - タイマー割り込みを使い短時間で次々にプロセス切り替えを行う

### システムコール
- アプリケーション(あるいはユーザー)からカーネルを仲介してハードウェアの操作を行う仕組み
  - カーネルだけにCPUの特権命令の実行が許可されている

#### システムコールとライブラリ関数
- システムコール - OSの一部
  - OS内部の機能を関数として呼び出すための仕組み
  - トラップ命令で呼び出されてカーネル空間で実行される
- ライブラリ関数 - プログラムの一部
  - コール命令で呼び出されてユーザー空間で実行される
  - ライブラリ関数の多くは内部でシステムコールを呼び出す
