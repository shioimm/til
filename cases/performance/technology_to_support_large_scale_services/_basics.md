# ［Web開発者のための］大規模サービス技術入門 ― データ構造、メモリ、OS、DB、サーバ/インフラ メモ
## 大規模データを扱う際のポイント
- メモリを最大限活用する
- データ量の増加に強いアルゴリズム、データ構造を扱う
- データ圧縮、検索技術を活用する

## OSのキャッシュと分散
#### キャッシュを最大限活用する
- 物理メモリ > 扱うデータサイズである場合、全てキャッシュできる
- 経済的コストとのバランスを考える
  - ハードウェアのメモリ量を増設するか、ソフトウェアのメモリ量を削減するか

#### データがキャッシュに乗り切らない場合
- アクセスパターンを考慮し局所性を活用できるような形で複数サーバーに分散させる

#### パーティショニング
- 局所性を活用できるようなロジックによって1つのDBを複数のサーバに分割する
- テーブル単位での分割、データの途中での分割

## DBのスケールアウト戦略
#### DBのスケールアウトのためのポイント
- OSのキャッシュを活かす
  - 物理メモリ > データサイズの状態を保つ
  - 大量のデータを格納するテーブルは1レコードあたりのサイズが小さくなるように設計する
- 適切なインデックスを設定する
- スケーリング前提のシステム設計を行う
  - 参照系 (スレーブ) - スケールアウトできる
  - 更新系 (マスター) - スケールアウトできない
