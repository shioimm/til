# gRPC
- 参照: [サービス間通信のための新技術「gRPC」入門](https://knowledge.sakura.ad.jp/24059/)
- Googleによって開発が開始され、現在CNCFによって開発が進められているRPC
- 用途: マイクロサービスにおけるサービス間通信、モバイルユーザー向けサービスなど
  - 通信速度の速さ
  - データ量の圧縮
  - クライアント−サーバー双方の言語の違いを吸収する

### RPC
- 参照: [リモートプロシージャコール](https://www.weblio.jp/content/RPC)
- Remote Procedure Call
- ネットワークによって接続された他のコンピュータ上で関数を呼び出し、実行させる
  クライアント−サーバー型の通信プロトコル
  - クライアントはサーバーに対して実行する関数を指定するパラメータや引数を送信する
  - サーバーはパラメータに応じた処理を実行し、結果をクライアントに返す
- 従来XMLやJSONなどテキストベースのデータフォーマットを利用していたが、
  データの転送効率が悪い点などの課題があった

## gRPCのコンセプト
```
- サービスはオブジェクトではなく、メッセージはリファレンス（参照）ではない
- 適切な適用範囲とシンプルさ
- フリーかつオープン
- 相互運用性があり、一般的なインターネットインフラ内で利用できる
- 汎用性がありながら、専用のものと比べてパフォーマンス面で一般に劣らない
- アプリケーションレイヤーと分離された構造
- ペイロードを問わない
- ストリーミングでの情報伝達に対応
- 同期・非同期の両方に対応
- 通信の中断やタイムアウトをサポート
- 確立された通信を処理しつつ新規接続を止めるようなシャットダウンのサポート
- データ流量のコントロール機能
- デフォルト実装に対して後からさまざまな機能を追加可能
- APIによる機能拡張が可能
- メタデータの交換をサポート
- 標準化されたステータスコード

# https://knowledge.sakura.ad.jp/24059/
# https://grpc.io/blog/principles/
```

## 技術的側面
- gRPCは特定の言語やプラットフォームに依存しないように設計されている
- デフォルトではトランスポートにHTTP/2、データのシリアライズにProtocol Buffersを使用する
  - Protocol Buffers: Googleが開発したデータフォーマット、バイナリデータを含むデータでも効率的に扱える
- Protocol Buffersによるサービス定義ファイルから
  サーバー/クライアント向けのコードを自動生成するツールが提供されている

## gRPCによるアプリケーション開発
1. gRPCの利用に必要なツールやライブラリのインストール
    - 利用言語によって異なる
2. Protocol Buffersを使ったサービスの定義
    - Protocol Buffersによるシリアライズにおいて、
      扱うデータ構造を事前に型付きで定義しておく必要がある(プロトコル定義ファイル
    - プロトコル定義ファイルから各プログラミング言語に定義されたクラス定義ファイルを生成する
3. サービス定義ファイルからのコードの生成
    - プロトコル定義ファイル内で定義されたサービスに対して、対応するコードを生成する
