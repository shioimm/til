# サーバーレスコンピューティング
- 参照: [サーバーレスとは](https://www.redhat.com/ja/topics/cloud-native-apps/what-is-serverless)
- 参照: [サーバレスとコンテナ：同じところと違うところ](https://sumologic.digitalstacks.net/blog/serverless-vs-containers/)
- 参照: [新たなクラウドアプリケーションのトレンドとして注目される「サーバーレスコンピューティング」―― そのメリットとデメリットとは？](https://cn.teldevice.co.jp/column/10516/)

## TL;DR
- アプリケーションコードがオンデマンドで実行されるアーキテクチャ
  - アプリケーション開発者はコードをアップロードし、実行したい時にトリガーする
  - 実行するコードがイベントによってトリガーされた際、
    クラウドプロバイダが物理サーバーを実行し、マシンリソースを動的に割り当てる
- アプリケーション開発者はサーバーのプロビジョニングやアプリケーションのスケーリングの管理を行う必要がない

## 種類
- BaaS
  - Backend-as-a-Service
  - サードパーティのアプリケーションとサービスによって
    アプリケーションが構成されている場合
- FaaS
  - Function-as-a-Service
  - 開発者がサーバーサイドのカスタムロジックを作成し、
    クラウドプロバイダーが管理するコンテナで実行する場合
    - コンテナはステートレス・一時的・イベント駆動型・クラウドプロバイダーによる完全管理

## 特徴・従来のサービスとの比較
- メインルーティンはサーバーレスコンピューティングの実行環境の中にある
  イベントごとに登録されたプログラムを呼び出して実行する
  - 従来のサービスではメインルーティンから様々なプログラムを呼び出す
- イベントが発生し、プログラムが実行されたときだけ料金が発生する
  -> 小さなプログラムが多数連動して一つのシステムを構築するアーキテクチャとの親和性が高い
  -> マイクロサービスアーキテクチャ

#### IaaS/PaaSとの違い
- ユーザーがコードの実行に必要としたコンピュートリソースの分だけ課金される点
- アプリケーションプログラムがイベント駆動で実行される点

## コンテナとの比較
- 参照・引用: [サーバレスとコンテナ：同じところと違うところ](https://sumologic.digitalstacks.net/blog/serverless-vs-containers/)

### 類似点
- アプリケーションコードをデプロイできる
- 仮想マシンよりも効率的
- アプリケーションはホスト環境から隔離されている
- 効果的にスケールするためにオーケストレーションツールが必要

### 違い
- ホスト環境
  - コンテナは最新のLinuxサーバと特定のバージョンのWindowsで実行可能
  - サーバーレスは特定のホストプラットフォーム(ほとんどはパブリッククラウド)で実行される
- セルフサービス能力
  - 独自のオンプレミスホスト環境と、ECSなどのパブリッククラウドサービスの両方を使用できる
  - サーバーレスは特定のホストプラットフォーム(ほとんどはパブリッククラウド)で使用できる
- コスト
  - サーバーレス環境はクラウドにホストされているため、利用に費用がかかる
  - コンテナはオープンソースを使用して無料で自分でコンテナ環境を設定することができる
- サポートされている言語
  - コンテナはホストサーバがサポートしていれば任意の言語を使用できる
  - サーバーレス言語はサーバーレスプラットフォームによって異なる
- ステートフル
  - コンテナ環境でははステートフルなコンテナ化されたアプリの作成が可能
  - ほとんどのサーバーレスプラットフォームでは
    ステートレスワークロードをサポートするように設計されている
    - サーバレスプラットフォーム内から外部ストレージサービスに接続できるが、
      機能自体はステートフルにできない

### 用途
#### サーバーレス
- リソースを集中的に使用するコードを一回に限り迅速に実行する
  - ex. ユーザーが画像をアップロードするたびに画像のサイズを変更するコードを実行する
- 仮想サーバーをセットアップしたり、継続的にクラウドリソースに料金を支払うことなく
  クラウドで限定的なアプリケーションコードを実行する

#### コンテナ
- アプリケーションコードがデリバリーチェーンを下るときに、環境パリティを維持する
- 異なるホストサーバー間でアプリケーションをすばやく移動する
- オンプレミスとクラウドの間でワークロードを移動する機能を保持する
- サービスを継続的に利用可能にする
