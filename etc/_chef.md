# Chef
- 参照: [Chef Documentation](https://docs.chef.io/)
- 参照: [サーバー設定ツール「Chef」の概要と基礎的な使い方](https://knowledge.sakura.ad.jp/867/)
- 参照: [オープンソースの運用管理・運用自動化／Chefとは](https://www.ossnews.jp/oss_info/Chef)

## TL;DR
- 構成管理ツール
  - 設定ファイルに従いユーザーの作成、パッケージのインストール、設定ファイルの編集などを自動的に行う

## 特徴
- Infrastructure as Code
  - コードによってインフラの構成管理を行う

## 構成要素
### Recipe
- 構成設定を記述したファイル
  - Rubyの実行ファイル

### Cookbook
- 構成対象に対して必要なRecipeをまとめる構成設定ファイルセット
- 処理内容や対象とするアプリケーションごとにCookbookを作成する
- Recipe以外にTemplate(設定ファイルを作成する)や
  Attribute(環境に応じてその値を変更できる変数を定義する)を含む
  - Recipeでは環境に依存しないように設定を記述し、Attributeでその内容を制御する

### Resource
- 管理対象とするサーバーの設定項目や設定ファイル
- リソースは型(リソースタイプ)を持つ
  - リソースタイプは最初から用意されているもの以外にも自分で追加が可能

### Knife
- ChefのCLI

## サーバー管理構成
### スタンドアロン構成
- 一台のサーバー内でCookbookの作成や管理、実行などをすべて完結させる
- サーバーソフトウェアのインストールは不要
- クライアントソフトウェアは必要
  - クライアントに含まれる`chef-solo`コマンドでRecipeを実行する

### クライアント/サーバー構成
- Cookbookをサーバーで集中管理し、クライアントはサーバーからCookbookをダウンロードして実行する
- サーバーにChefサーバーのインストールが必要
- クライアントにChefクライアントのインストールが必要
  - クライアントはNodeと呼ばれる
