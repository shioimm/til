# 動作フロー案
1. アドレス解決を行う対象のファミリごとにスレッドを生成しアドレス解決を実施
    - アドレスの取得に成功した場合:
      - 取得したアドレスを選択可能なアドレスの配列に格納
    - アドレスの取得に失敗した場合:
      - 無視できる例外を補足した場合:
        - 何もしない
      - 無視できない例外を補足した場合:
        - 補足した例外を名前解決中に補足した例外に格納
2. 接続試行ループを開始
    - 接続試行完了の場合:
      - 接続済みソケットの配列から接続済みソケットを取得
        - 接続済みソケットがある場合:
          - その他のすべてのソケットを閉じて接続試行ループから脱出
        - 接続済みソケットがない場合:
          - 選択可能なアドレスがない場合:
            - 最後に補足した例外を送出
          - 選択可能なアドレスがある場合:
            - 接続試行完了を取り消して次のループへスキップ
    - 接続試行未完了の場合:
      - 選択可能なアドレスの配列から接続試行を行うアドレスを選択
        - 選択可能なアドレスがない場合:
          - 接続中のソケットがある場合:
            - `connect_timeout`まで接続を待機
              - `connect_timeout`した場合
                - Errno::ETIMEDOUT を送出
              - `connect_timeout`までに接続できたソケットがある場合
                - 接続したソケットを接続済みソケットの配列に格納
                - 接続試行を完了させる
                - 次のループへスキップ
          - 接続中のソケットがない場合
            - 最後に補足した例外がある場合:
              - 最後に補足した例外を送出
            - 最後に補足した例外がない場合
              - Errno::ETIMEDOUTを送出
            - 名前解決中に例外を補足した場合:
              - 最後に補足した例外を送出
        - 選択可能なアドレスがある場合:
          - ノンブロッキングモードで接続試行を行う
            - 接続に成功したソケットを取得した場合:
              - 接続したソケットを接続済みソケットの配列に格納
            - 接続中のソケットを取得した場合:
              - 接続中のソケットを接続中のソケットの配列に格納
            - 例外を補足した場合:
              - 補足した例外を最後に補足した例外として格納
          - 接続済みソケットの配列が空ではない場合
            - 接続試行を完了させて次のループへスキップ
          - 最後に補足した例外があり、選択可能なアドレスの配列が空ではない場合
            または選択可能なアドレスの配列が空であり、接続中のアドレスの配列が空ではない場合
            - 次のループへスキップ
          - Connection Attempt Delayを待機
            - Connection Attempt Delay中に接続できたソケットがある場合:
              - 接続したソケットを接続済みソケットの配列に格納
              - 接続試行を完了させる
              - 次のループへスキップ
            - Connection Attempt Delay中に接続できたソケットがない場合:
              - 次のループへスキップ
3. 取得できた接続済みソケットを返す
