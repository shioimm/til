# 実装メモ

```ruby
class Integer
  def __plusplus__(name, b)
    b.local_variable_set(name, self.succ)
  end
end

i = 0
i.__plusplus__("i", binding)

# RubyVM::AbstractSyntaxTree.parse('i.__plusplus__("i", binding)')
# => (SCOPE@1:0-1:28
#     tbl: []
#     args: nil
#     body:
#       (CALL@1:0-1:28 (VCALL@1:0-1:1 :i) :__plusplus__
#          (LIST@1:15-1:27 (STR@1:15-1:18 "i") (VCALL@1:20-1:27 :binding) nil)))
```

```c
// parse.y

method_call : // ...
            | primary_value lex_ctxt tINCOP_ASGN
            {
              $$ = new_qcall(p, $3, $1, <__plusplus__>, <(name, b)>, &@3, &@$);
              nd_set_line($$, @3.end_pos.lineno);
            }
```
