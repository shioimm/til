# ARP / NDR
- Address Resolution Protocol(IPv4)
- Neighbor Discovery Protocol(IPv6)
- アドレス解決プロトコル
- 送信元ノードが送信先ノードのMACアドレスを取得し、
  送信先MACアドレスをEthernetフレームのヘッダに書き込み、データを送出する
  - ARP要求 - IPアドレスを元にMACアドレスを問い合わせる(ブロードキャスト)
  - ARP応答 - IPアドレスを元にMACアドレスを解決して返す
- IPと同じようにEthernetフレームで送出される

## 仕組み
1. 送信元ホストがイーサネット上でブロードキャストパケットを送信する
2. イーサネット上の全てのホストがブロードキャストパケットを受信し、自身のIPアドレスを調べる
3. 対象のホストが自身のMACアドレスを返送する
4. 送信元ホストは対象のホストが該当するIPアドレスとMACアドレスと紐づいていることを知る

## 代理ARP
- 送信先ホストの代わりにL3スイッチやルーターがARP応答を返す仕組み
- 送信先ホストはARP応答を返したプロキシのMACアドレスを宛先にしてフレームを送信する
- ARP応答を返したプロキシは本来の送信先のホストへフレームを転送する

##`arp(1)`
- ノードでキャッシュしているMACアドレスを確認する

## 参照
- Linuxプログラミングインターフェース 58章
- サーバ・インフラエンジニアの基本がこれ一冊でしっかり身につく本 2.8-9
- Linuxで動かしながら学ぶTCP/IPネットワーク入門 4.5
- コンピュータネットワーク
