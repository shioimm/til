# ネットワークセキュリティ
- 情報の特性に合わせて、CIAの観点からSTRIDEそれぞれの脅威に対し、
  どのようにシステムや情報そのものを守るかについて考える

## CIA
- 機密性(Confidentiality) - 情報が意図した相手以外に漏れていないこと
  - エンドポイント真正性
- 完全性(Integrity) - 情報が誰にも改竄されていないこと
- 可用性(Availability) - 使用可能であると想定される状況において使用できること

## STRIDE脅威モデル
- なりすまし(Spoofing) - 正規ユーザーのふりをして不正に情報に関与する
- データの改竄(Tampering) - データの書き換えや破壊を行う
- 否認(Repudiation) - 自ら行なった振る舞いについて認めず否認する
- 情報漏洩(Information Disclosure) - 見せることを意図していない相手に情報が漏れる
- サービス不能(Denial of Service) - 大量のリクエストやデータを送信し使用できない状態にさせる
- 権限の昇格(Elevation of Privilege) - アクセス権のないユーザーにアクセス権が与えられる

## セキュアなデータ通信のための技術
### 要件
- 盗聴対策 - 盗聴されてもデータが読めないようにする
- 改竄対策 - 改竄を検知できるようにする
- なりすまし対策 - なりすましを検知できるようにする
- 否認対策 - 本人でしか送付できない情報形式にする

### 暗号化技術(盗聴対策)
- 送信者-受信者間でルールを決め、ルールに従って情報を暗号化することで
  通信経路上では第三者が読み取ることのできない情報をやりとりする

#### 共通鍵暗号方式
1. 送信者-受信者間で暗号化アルゴリズムを取り決める
2. 送信者-受信者間で共通鍵を取り決める
3. 送信者は共通鍵を使用してデータを暗号化し、送信する
4. 受信者は暗号化されたデータを受信し、共通鍵で復号化する
- 暗号化と復号化の処理が高速
- 通信相手ごとに鍵が必要であり、鍵の管理が困難

#### 公開鍵暗号方式
1. 送信者-受信者間で暗号化アルゴリズムを取り決める
    - 受信者は暗号化する鍵(公開鍵)を公開している
    - 受信者は復号化する鍵(秘密鍵)を公開していない
2. 送信者は受信者の公開鍵を使用してデータを暗号化し、送信する
3. 受信者は暗号化されたデータを受信し、秘密鍵で復号化する
- 鍵の管理と配布が簡単
- 暗号化と復号化の処理に時間がかかる

#### ハイブリッド暗号方式
1. 送信者-受信者間で暗号化アルゴリズムを取り決める
2. 送信者-受信者間で共通鍵を取り決める
3. 送信者は共通鍵を使用してデータを暗号化する
4. 送信者は受信者の公開鍵を使用して共通鍵を暗号化する
5. 送信者は暗号化したデータと暗号化した共通鍵を送信する
6. 受信者は暗号化されたデータと暗号化された共通鍵をを受信する
7. 受信者は暗号化された共通鍵を秘密鍵で復号化する
8. 受信者は暗号化されたデータを共通鍵で復号化する

### メッセージ認証符号(改竄対策)
- MAC(Message Authentication Code)
1. 送信者はMAC値と任意のメッセージを送信する
    - MAC値 - メッセージと共通鍵を使い、MAC関数を用いて計算した値
2. 受信者はメッセージを受信し、送信者と同じMAC関数を用いてMAC値を計算する
3. 受信者の送信したMAC値と受信者が計算したMAC値が同じであれば
   データが改竄されていないことが保証される

### デジタル署名(なりすまし対策 / 否認対策)
- 公開暗号鍵と逆の仕組みで真正性を保証する
1. 送信者は送信者自身の秘密鍵を使用してデータを暗号化する
    - 暗号化されたデータは送信者自身の公開鍵で誰でも復号化できる
2. 受信者は暗号化されたデータを受信し、送信者の公開鍵で復号化する
3. 受信者が送信者の公開鍵でデータを複合できれば、
   データの送信元が送信者自身であることが保証される

## 参照
- 食べる！SSL！　―HTTPS環境構築から始めるSSL入門
