# 安全なWebアプリケーションの作り方(脆弱性が生まれる原理と対策の実践) まとめ
- 徳丸浩 著

## 01 Webアプリケーションの機能と脆弱性の対応
### アプリケーションレイヤーで発生する脆弱性の種類
- 処理系
  - ファイル <-> ファイル
    - ディレクトリ・トラバーサル
    - クロスサイト・リクエストフォージェリ
    - セッションIDの固定化・認証不備
    - 認可不備
- 出力系
  - 表示/HTML -> ブラウザ
    - クロスサイト・スクリプティング
    - HTTPヘッダ・インジェクション
  - DB/SQL <-> RDB
    - SQLインジェクション
  - 外部コマンド <-> シェル
    - OSコマンド・インジェクション
  - メール <-> メール
    - メールヘッダ・インジェクション

### インジェクション系攻撃
```sql
SELECT * FROM users WHERE id='$id'
```
- '$id'部分にユーザー入力値が入ることを想定しているが、
入力値によって構文構造を変化させ、攻撃を行う
```sql
-- 入力値
'; DELETE FROM users --'
```
```sql
-- 入力後のSQL文
SELECT * FROM users WHERE id=''; DELETE FROM users --'

-- ';によって構文構造を変化させている
```
- インジェクション系攻撃(出力系攻撃)は共通の手段によって行われる
