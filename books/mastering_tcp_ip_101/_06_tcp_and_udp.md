# マスタリングTCP/IP 入門編 まとめ06
- 井上直也・村山公保・竹下隆史・荒井透・苅田幸雄 共著

## TCPとUDP
- トランスポート層のプロトコル -> アプリケーション層のプログラムにデータを受け渡すための仕様
  - ポート番号 -> データを受け渡す対象のプログラム(アプリケーション)の識別子
- TCP -> コネクション型で信頼性のあるストリーム型のプロトコル
  - 信頼性が必要な通信
  - 大量のデータ通信
  - 即時性が必要ない動画や音声
- UDP -> コネクションレス型で信頼性のないデータグラム型のプロトコル
  - 総パケット数が少ない通信
  - 即時性が必要な通信(マルチメディア通信)
  - 同報性が必要な通信(マルチキャスト / ブロードキャスト)

### ポート番号
- 同一のコンピュータ内で通信を行なっているプログラムを識別するアドレス

#### 通信の識別
- 「宛先IPアドレス」「送信元IPアドレス」「宛先ポート番号」「送信元ポート番号」「プロトコル番号」
が一致している通信を同一のものと識別する
  - 同じブラウザで複数のタブからリクエストを送信した場合、送信元ポート番号が異なるため別の通信として見なされる

#### ポート番号の決め方
- サーバー -> ウェルノウンポート番号が使用される場合が多い
- クライアント -> 動的に割り当てられる場合が多い

### 通信の信頼性(TCP)
- スリーウェイハンドシェーク
  - コネクション確立要求(SYN)
  - 確認応答(ACK)
    - シーケンス番号
  - コネクション切断要求(FIN)
- 再送タイムアウト
- 最大セグメント長(MSS)の決定
- ウィンドウ制御 -> 複数のセグメンントを同時に送信する
  - 送信バッファ / 受信バッファを利用して複数のセグメントに対して同時に確認応答する
- フロー制御 -> 受信側の受信能力に合わせて送信量を制御する
- 輻輳制御 -> スループットを徐々に向上させる

### QUIC
- UDPを利用した新しいトランスポートプロトコル
  - 認証・暗号化機能
  - 低遅延のコネクション管理機能
  - 多重化機能 -> 1コネクションで複数のストリームを扱う
  - 再送処理機能
  - ストリームレベルの再送制御とコネクションレベルのフロー制御機能
  - コネクションのマイグレーション機能 -> IPアドレスが変わってもコネクションを維持する
