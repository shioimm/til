# Real World HTTP 歴史とコードに学ぶインターネットとウェブ技術 まとめ
- 渋川よしき 著

## [XMLHttpRequest](https://developer.mozilla.org/ja/docs/Web/API/XMLHttpRequest)
- curlコマンドと同等の操作をJavaScriptから行うことができる機能
- ページ全体を更新せずにデータを受け取ることができるため、Ajaxプログラミングで使用される

### ブラウザのHTTPリクエストとの違い
- 送受信時にHTMLの画面がリロードされない
- GET / POST以外のメソッドも送信できる
- キーと値が一対一になっているデータ形式以外のフォーマットでデータを送信できる(プレーンテキスト、JSON、XMLetc)
- セキュリティのための制約を持つ

### Comet
- XMLHttpRequestを使用したレガシーなリアルタイム双方向通信
- ポーリング -> 通知を受ける側が、通知の有無を頻繁に訊きにいく方式
- ロングポーリング -> クライアントからサーバーにリクエストを送った後、即時にレスポンスを返さず保留する
サーバー側から通信を完了させるか、リクエストがタイムアウトした際にレスポンスを返す
- Cometはロングポーリングを使用している
- 一メッセージあたりのオーバーヘッドが大きくサーバーからの連続したメッセージに強くない
- Cometよりも後に、より応答性の良いサーバー通知の仕組みが作られた

### セキュリティ
- アクセスできる情報の制限
  - 例: Cookieの制限(CookieにhttpOnly属性を付与し、スクリプトからアクセスできないようにするなど)
- 送信制限
  - リクエストを送信できるドメインの制限(CORS)
  - 利用できるHTTPメソッドの制限
  - ヘッダーの制限
    - 例: プロトコルのルールや環境に影響を与えるもの、セキュリティに影響を与えるもの、ブラウザの能力を超えられないもの
