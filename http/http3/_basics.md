# HTTP/3
- HTTP/2以上の効率化・高速化のために実装されたプロトコル
- トランスポート層でUDPを使用することにより初回接続時のネゴシエーションを軽量化し、
  アプリケーション層でTCPが担っていた再送処理、輻輳処理などを行う
- TLSの機能を最初から融合している
- TCPのレイヤーで持っているデータ(シーケンス番号など)を隠蔽する
- TCPとHTTPの両方に実装されていたフロー制御機能は一元化された

## レイヤー
- HTTP/3はQUICトランスポート層とHTTP/3の二層構造によって動作する
  - QUICトランスポート層
    - ストリーム制御などTCPの上位互換レイヤーとTLS1.3
  - HTTP over QUIC(HTTP/3)層
    - HTTP/2の機能からQUICトランスポートと重複する機能を落とし、HPACKをQPACKに置き換えたもの

### QUICトランスポートプロトコル
- UDPを元にして再送処理・輻輳制御・暗号化などを実装したもの
  - TCPとTLSのレイヤーの置き換え
- QUICの接続時には一意なコネクションIDが発行され、これを元にストリームの通信を行う
  - HTTP/2まではコネクションを送信アドレス、宛先アドレス、送信元ポート番号、
    宛先ポート番号、プロトコルで識別していた
  - HTTP/3ではコネクションをコネクションIDで識別する
- QUICではストリームごとにフロー制御を行ったり、ウィンドウサイズを変更できる

## HTTP/3での変更
- レイヤーが2層に分かれたためHTTPのフレーム構造がシンプルになった
- ストリームIDのビット数が31ビットから62ビットに増えた
- 各フレームはストリームIDとフラグを持たなくなった
- フラグによって増減するフィールドがなくなった
- ヘッダの圧縮アルゴリズムがHPACKからQPACKに変更された

## 参照
- Real World HTTP 第2版
