# エラー処理
## HTTP/2におけるエラーの種類
- コネクションエラー
- ストリームエラー

## コネクションエラー
- HTTP/2コネクション全体に影響する
- 明らかにクライアント-サーバー間で齟齬が発生している場合に起こる
- エラー発生時、ストリームID 0で`GOAWAY`フレームが相手に通知され、
  コネクションが切断される

### GOAWAYフレーム
- Error Code
- Last-Stream-ID - どのストリームまで処理したのかを示す
- Additional Debug Data - エラー内容を表す任意の文字列を示す
- コネクション切断時に送信されることが推奨

### コネクションエラーの例
- 特定のストリームIDで送られるべきフレームが誤ったストリームIDで送信された
- HPACK形式のヘッダのデコードに失敗した

## ストリームエラー
- 当該ストリームにのみ影響するエラー
- エラー発生時、該当のストリームIDでエラーコードを含む`RST_STREAM`フレームが相手に通知され、
  ストリームが終了する
- ストリームエラーに対してコネクションエラーを発生させることも可能

### ストリームエラーの例
- 正しくない長さのフレーム
- 仕様に違反する順番で送信されている
- サーバープッシュのキャンセル

## 参照
- よくわかるHTTP/2の教科書P123
