# PostgreSQL
#### URLの構造
```
postgres:/<DomainName>:<Password>@<URL>:<PortNumber>/<Path>
```

#### プロセス

| プロセス名             | 説明                                                         |
| -                      | -                                                            |
| マスターサーバ         | 親プロセス                                                   |
| ロガー                 | サーバーログを書き出す                                       |
| ライタ                 | 共有バッファの内容をデータファイルに書き出す                 |
| WALライタ              | WALバッファの内容をWALファイルに書き出す                     |
| チェックポインタ       | すべてのダーティページをデータファイルに書き出す             |
| 自動バキュームランチャ | 自動バキュームワーカを起動する                               |
| 自動バキュームワーカ   | 自動バキューム・アナライズを実行する                         |
| 統計情報コレクタ       | DBの活動状況に関する統計情報を一定間隔で収集する             |
| バックグラウンドワーカ | ロジカルレプリケーション用ワーカ                             |
| バックエンドプロセス   | クライアントからの接続要求に対して生成され、クエリを処理する |
| パラレルワーカ         | パラレルスキャン時に起動され、クエリを処理する               |

## 構造
#### データベース
- インストール直後はデータベースとして`template0`、`template1` (テンプレート用)、`postgres`が作成される

#### スキーマ
- データベース内のテーブル・関数などのオブジェクトをグループ化する仕組み
- データベース作成時には自動的に`public`スキーマが作成される
  - `public`スキーマはデフォルトですべてのロールにアクセス権限とCREATE権限を与えている
  - スキーマの指定をせずにテーブルを作成した場合、`public`スキーマにテーブルが作成される

#### テーブル
- テーブルはスキーマ内に作成される
- 別のスキーマ内に同名のテーブルを作成可能

## 参照
- [5.9. スキーマ](https://www.postgresql.jp/document/13/html/ddl-schemas.html)
- 内部構造から学ぶpostgresql 設計 運用計画の鉄則 2.1
