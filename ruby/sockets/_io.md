# class IO
- [class IO](https://docs.ruby-lang.org/ja/2.6.0/class/IO.html)

## `read(2)`
### `IO#read`
- `read(length = nil, outbuf = "")` -> String | nil
  - 指定したサイズのデータを読み込む
    - データが指定したサイズに満たない場合、処理がブロックされる
  - サイズを指定しない場合、EOFまで読み込む
    - EOFがない場合、処理がブロックされる

### `IO#readpartial`
- `readpartial(maxlen, outbuf = "")` -> String
  - 指定したサイズを上限として読み込む
    - データが指定したサイズに満たない場合、読み込める限りのデータを読み込む

## `write(2)`
### `IO#write`
- `write(*str)` -> Integer
  - 指定したデータをストリームに対して書き込む

## バッファリング
- 参照: Working with TCP Sockets Chapter 8 Buffering
- 処理の正常終了-> データをカーネルに渡すことに成功した
- カーネルはデータのバッファリングを行うため、即時にストリームをフラッシュする保証はない

### 書き込みにおける最適なデータサイズ
- 原則的に全てのデータを書き込む
  データのチャンク処理はカーネルに任せる

### 読み込みにおける最適なデータサイズ
- 読み込み側では送信されてくるデータサイズの予測がつかない
- 受信したデータに基づいてプログラムを調整することによって
  読み込むべきデータサイズを最適化できる
- 主要なRubyプロジェクトにおいては16KBを読み込み上限として使用しているケースが多い
