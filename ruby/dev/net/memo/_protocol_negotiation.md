# プロトコルネゴシエーション
1. 接続先についてDNS問い合わせ
    - HTTPS RRで`alpn="h3"`を取得した場合:
      - クライアント - 接続先間でQUICハンドシェイク、TLS暗号交渉のうえHTTP/3セッション確立
    - HTTPS RRで`alpn="h2"`を取得した場合 (もしくは`alpn="h3,h2"`を取得したもののHTTP/3での接続に失敗した場合):
      - 1) 接続先とTCPで接続確立
      - 2) 接続先とTLSハンドシェイク、ALPNに基づいてh2を選択
      - 3) HTTP/2セッション確立
2. (以下DNSがHTTPS RRを返さなかった場合) 接続先とTCPで接続確立
3. 接続先へTLSハンドシェイク (ClientHello) 、ALPNで`h2, http/1.1`を通知する
    - HTTP/2以下にフォールバックする可能性があるため
4. 接続先からServerHelloとALPNで選択されたプロトコルが返ってくる
5. 接続先とTLSで接続確立 (HTTP/2もしくはHTTP/1.1)
6. 接続先へHTTPリクエスト
7. 接続先からレスポンス
    - レスポンスヘッダにAlt-Svcが含まれていた場合:
      - クライアント - 接続先間でQUICハンドシェイク、TLS暗号交渉のうえHTTP/3セッション確立
