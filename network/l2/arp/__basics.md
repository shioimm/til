# ARP
- Address Resolution Protocol (IPv4のみ)
- Ethernetのブロードキャスト機能と送信先IPアドレスを用いて
  送信先ホストのMACアドレスを取得するためのプロトコル
  - ARP要求 - MACアドレスを問い合わせるためのフレーム (ブロードキャスト)
  - ARP応答 - MACアドレスを解決して返すためのフレーム (ユニキャスト)
- IPv6ではARPは利用されず、代わりにICMPのNDP (近隣探索プロトコル) が利用される

## 仕組み
1. 送信元ホストがEthernetフレーム (ARP要求) 自身のMACアドレスと送信先のIPアドレスをに書き込み、
   ブロードキャストする
2. Ethernet上の全てのホストがブロードキャストパケットを受信し、自身のIPアドレスを調べる
3. 対象のホストがEthernetフレームに (ARP応答) に自身のMACアドレスを書き込み、返送する
4. 送信元ホストは対象のホストが該当するIPアドレスとMACアドレスと紐づいていることを知る
    - IPアドレスとMACアドレスの対応関係はホストのARPテーブルに数分間キャッシュされる (ARPキャッシュ)
    - ARPテーブル - ホストがARPで解決した情報を一定時間 (Linuxではデフォルトで60秒) 保持するテーブル

## 参照
- Linuxプログラミングインターフェース 58章
- サーバ・インフラエンジニアの基本がこれ一冊でしっかり身につく本 2.8-9
- Linuxで動かしながら学ぶTCP/IPネットワーク入門 4.5
- コンピュータネットワーク
- マスタリングTCP/IP 入門編
