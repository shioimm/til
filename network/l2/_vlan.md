# VLAN (Virtual LAN)
- 1台のL2スイッチに対して物理的なネットワーク接続とは別に仮想的なLANセグメントを構成し、
  複数のL2スイッチのように見せかける技術
- L2スイッチの接続ポート、MACアドレス、プロトコルなどに対して
  セグメントごとの識別番号であるVLAN IDを付与することによってLANセグメントを分離する
- VLAN技術を利用できる機器を使用する

#### 利点
- ネットワークの物理配線を変えずにネットワーク構成を変えることができる
- ブロードキャストドメインを分割することができる
- VLAN ID単位でトラフィックを分離することができる

## 分割手段
#### ポートVLAN
- 1ポートに1VLAN IDを割り当てる
  - 同じVLAN IDが割り当てられているポートに接続されたクライアント同士は
    直接Ethernetフレームをやりとりできる

#### タグVLAN
- EthernetフレームにVLAN情報をVLANタグとして埋め込む
  - 送信元MACアドレスとタイプの間にTPIDとTCIが差し込まれる (IEEE802.1q)
    - TPID - IEEE802.1qのフレームであることを示す
    - TCI - VLANタグの制御情報 (PCP (優先制御) / CFI (トークンリングとの相互接続) / VID (VLAN ID))

## 参照
- サーバ・インフラエンジニアの基本がこれ一冊でしっかり身につく本 2.8-9
- Linuxで動かしながら学ぶTCP/IPネットワーク入門 4.5
- コンピュータネットワーク
- マスタリングTCP/IP 入門編
- パケットキャプチャの教科書
- [VLANとは](https://www.infraexpert.com/study/vlanz1.html)
