# 再送制御
## 高速再送制御 (Fast Retransmit: スライディングウィンドウ中に送信セグメントが失われた場合)
- 受信ホストは次に受信するべきシーケンス番号以外のデータを受け取った場合、
  パケットロスが発生したと判断し、確認応答が同じACKパケット (重複ACK) を連続して送出する
- 送信ホストは一度受け取ったACKと同じものを規定回数以上連続で受け取った場合、
  当該ACKが示しているTCPセグメントを再送する

### Early Retransmit
- 高速再送制御が行われない特定のTCP環境において、
  重複ACKの閾値を`未処理のTCPセグメント数 - 1`まで下げ、
  高速再送制御を強制発動させる

### Tail Loss Probe
- 送信した一連のTCPセグメントのうち最後の方が失われてしまった場合のために
  予めプルーブタイムアウトを定義しておき、データを送るたびにタイマーをセットし、
  タイムアウトに達したら高速再送制御を強制発動させる

## 再送タイムアウト (Retransmission Timeout: RTO)
- 送信ホストはTCPセグメントを送信した後、ACKパケットを待つまでの時間を再送タイマーとして保持する
  - RTTが短いほど再送タイマーも短くなる
  - ACKパケットを受信すると再送タイマーはリセットされる
- 送信ホストは受信ホストからACKが届かず再送タイムアウトが発生した場合、TCPセグメントを再送する

## 参照
- ハイパフォーマンスブラウザネットワーキング
- Software Design 2021年5月号 ハンズオンTCP/IP
- パケットキャプチャの教科書
