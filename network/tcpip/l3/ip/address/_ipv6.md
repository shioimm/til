# IPv6アドレス
- 128ビットサイズ (16ビットずつをコロンで区切り16進数で表記する)
- IPv6では一つのネットワークインターフェースに対して複数の種類のアドレスを割り当てる
- 先頭のビットパターンでIPアドレスの種類を区別する
  - IPv6では複数のIPアドレスを一つのネットワークインターフェースに割り当てることができ、
    必要に応じてIPアドレスを使い分ける
- IPv4射影IPv6アドレス - IPv4にのみ対応しているホストと通信する際のIPv4-mappedアドレス

## アドレス表現
- アドレス中0のみで表現されるグループは1グループに限り省略可能
- グループの先頭の0は省略可能

```
1111:0000:2222:0333:0044:0005:ffff:ffff

1111::2222:333:44:5:ffff:ffff
```

## 種類
### ユニキャストアドレス
#### リンクローカルユニキャストアドレス (fe80::/10)
- データリンクの同一リンク内で一意に識別できるアドレス
- サブネットプレフィクス - 64ビット
- インターフェースID - 64ビット
- ノードのインターフェースは必ずリンクローカルユニキャストアドレスを持つ
- 端末のMACアドレスから自動で作成・割り当てられる

#### グローバルユニキャストアドレス (2000::/3)
- インターネット上で一意に識別できるアドレス
- グローバルルーティングプレフィックス - 48ビット
- サブネットID - 16ビット
- インターフェースID - 64ビット
- IANAによって割り当てられる

#### ユニークローカルユニキャストアドレス (fc::/7)
- インターネット通信を行わない場合に利用されるアドレス
- 1111 110 - 7ビット
- 0 または 1 (将来定義 or 自動割り当て領域) - 1ビット
- グローバル識別子 - 40ビット
- サブネットID - 16ビット
- インターフェースID - 64ビット

```
// リンクローカルユニキャストアドレス
ネットワークプレフィクス + インターフェース識別子

fe80:0000:0000:0000:7a31:c1ff:fecb:b256

fe80 - ネットワークプレフィクス
0000:0000:0000 - パディング
7a31:c1ff:fecb:b256 - インターフェース識別子 (MACアドレスを二分してパディング0xfffeで繋いだもの)
```

```
// グローバルユニキャストアドレス
ネットワークプレフィクス + サブネットID + インターフェース識別子

2001:4860:4860:0000:7a31:c1ff:fecb:b256

2001:4860:4860 - ネットワークプレフィクス
0000 - サブネットID
7a31:c1ff:fecb:b256 - インターフェース識別子
```

### マルチキャストアドレス
- 1:nグループの通信に利用されるアドレス

### エニーキャストアドレス
- インターフェースの集合に割り当てられるアドレス

## 参照
- Linuxプログラミングインターフェース 58章
- Software Design 2021年5月号 ハンズオンTCP/IP
- マスタリングTCP/IP 入門編
- パケットキャプチャの教科書
