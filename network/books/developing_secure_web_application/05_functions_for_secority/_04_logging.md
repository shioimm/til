# 安全なWebアプリケーションの作り方(脆弱性が生まれる原理と対策の実践) まとめ
- 徳丸浩 著

## ログ管理
### ログ出力の目的
- 攻撃や自己の予兆をログから推測し、事前に対策する
- 攻撃や自己の事後調査
- アプリケーションの運用監査

### 種類
- Webサーバーログ
- アプリケーションログ
  - エラーログ
    - ユーザーに対して出力しないようにする
  - アクセスログ
    - 各種法令やガイドラインによって要求されている
  - デバッグログ
    - 開発環境用
- DBログ

### 要件定義
- どのイベントを記録するか
  - ログイン・ログアウト
  - アカウントロック
  - ユーザー登録・削除
  - パスワード変更
  - 重要情報の閲覧
  - 重要操作
- どの項目を出力するか
  - 日時
  - IPアドレス
  - ユーザーID
  - アクセス対象
  - 操作対象
  - 操作内容
  - 操作結果
- ログの保護方法
- ログの出力先
- ログの保管期間
- サーバーの時刻合わせ

### 実装
- ログ出力用のライブラリを使用する
  - ログの出力先を柔軟に変更できること
  - ログの出力先を複数設定できること
  - ログの出力フォーマットを指定できること
  - ログレベルを指定できること
    - fatal
    - error
    - warn
    - info
    - debug
    - trace
