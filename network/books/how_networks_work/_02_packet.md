# ネットワークはなぜつながるのか まとめ02
- 戸根勤 著

## パケットの基本形
- ヘッダ + メッセージ

## プロトコルスタック(TCP担当部分)が受け持つパケットの内訳
```
TCPヘッダ + メッセージ本体のデータ断片
```

## プロトコルスタック(IP担当部分)が受け持つパケットの内訳
```
MACヘッダ + IPヘッダ + TCPヘッダ + メッセージ本体のデータ断片
```

## LANアダプタが受け持つパケットの内訳
```
プリアンブル / スタートフレームデリミタ + MACヘッダ + IPヘッダ + TCPヘッダ + メッセージ本体のデータ断片 + FCS
```

## パケットの内訳
- アプリケーションが担う部分
  - メッセージ本体
- プロトコルスタック(TCP担当部分)が担う部分
  - TCPヘッダ
- プロトコルスタック(IP担当部分)が担う部分
  - IPヘッダ -> 送信元IPアドレスと宛先のIPアドレスを記載
  - MACヘッダ -> 送信元MACアドレスと直近のルーターのMACアドレスを記載
    - MACアドレスはルーターを経由するごとに直近のルーターのMACアドレスへ更新される
- MAC回路が担う部分
  - プリアンブル -> 送信するパケットを読み取る時のタイミングをとる
  - スタートフレームデリミタ -> パケットの始まりを表す目印
  - FCS -> データの破損を検出する
