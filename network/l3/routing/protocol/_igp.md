# IGP (Interior Gateway Protocol)
- ネットワーク (AS) 内の動的ルーティングのための仕組み
- RIP、RIP2、OSPFなどのプロトコルが利用される

## RIP (Routing Information Protocol)
- 経路情報を定期的に(30秒周期)ネットワーク上にブロードキャストする
  - 6回待っても経路情報が届かない場合は接続切れと判断する
- 距離ベクトル型プロトコル
  - ホップ数(通過するルーター数)によって距離を計測する
- 距離ベクトルアルゴリズムによって距離ベクトルデータベースを作成し、
  距離が小さい経路を抜き出してルーティングテーブルを生成する
- 1種類のパケットで動作する
  - 経路制御情報を利用し、ネットワークが接続されているかどうかを確認しながら
    他のネットワークの情報も流す

## RIP2 (RIPバージョン2)
- 経路制御情報の交換のためにマルチキャストを使用する
- サブネットマスクに対応
- 一つのネットワーク上で論理的に独立した複数のRIPが使えるようになっている
- BGPなどから得た経路制御情報を、RIPを使ってもAS内に通知する外部ルートタグ機能を実装
- パスワードを用いて、自分が認識できるパスワードを持っているパケットのみを受容する

## OSPF (Open Shortest Path First)
- マルチキャストを利用して、同一セグメント上の他のルータと経路情報を交換する
- 各リンクに重み (コスト) をつけることができ、重みが小さくなるように経路が選択される
- サブネットマスクに対応
- トラフィックの軽減のため、ネットワークの論理的な領域を意味するエリアの概念を導入
  - ネットワークをエリアに分けることによって不必要なルーティングプロトコルのやりとりを減少させる
- IPヘッダのサービスタイプフィールドごとに複数のルーティングテーブルを作成できる
- 役割ごとに5種類のパケットを使い分ける

## 参照
- Linuxプログラミングインターフェース 58章
- Software Design 2021年5月号 ハンズオンTCP/IP
- マスタリングTCP/IP 入門編
