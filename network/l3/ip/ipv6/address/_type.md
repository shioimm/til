# 種類
- 先頭のビットパターンでIPアドレスの種類を区別する

### 不定アドレス
- `::/128`
- IPv6アドレスが存在しないことを示す
- どのスコープにも属さない

### ループバックアドレス
- `::1/128`
- 自分自身を示すIPアドレス
- リンクローカルスコープ

### マルチキャストアドレス
- `ff00::/8`
  - 先頭8ビットがすべて1
  - 先頭8ビットに続く4ビットがフラグ
  - フラグに続く4ビットがマルチキャストのスコープ
- 当該ネットワーク上の特定の複数の端末を表す
- いくつかのノード宛にまとめてパケットを送信するときに使用する
- `ff02::1` - 同一リンク内の全ノードを指すマルチキャストアドレス
- `ff02::2` - 同一リンク内の全ルータを指すマルチキャストアドレス

#### Solicited-Nodeマルチキャストアドレス
- 近隣探索プロトコルで使用されるマルチキャストアドレス

### ユニキャストアドレス
- 1:1の通信で使用するアドレス
- 特定のネットワークインターフェースを指し示す

#### リンクローカルユニキャストアドレス
- ネットワークインターフェースに対して同一のリンク内でのみ使用できるアドレス
  - ルータを越えることが想定されていない通信で利用される
  - IPv4のリンクローカルアドレスに相当する
- `fe80::/10`

```
1111 1110 10 + サブネットプレフィックス (0 * 54) + インターフェースID
```

- 初期化時にネットワークインターフェースに設定される場合が多く、ルーティングプロトコルなどで用いられる
- 送信元・宛先のIPv6 アドレスとしてリンクローカルユニキャストアドレスが記載されたパケットは
  ルータによる転送が禁止されている

#### グローバルユニキャストアドレス
- ループバックアドレス、不定アドレス、マルチキャストアドレス、リンクローカルユニキャストアドレス以外の
  すべてのアドレス

```
グローバルルーティングプレフィックス + サブネットID + インターフェースID (一般的に64ビット)
```

- インターネット上で一意に識別できるアドレス (IANAによって割り当てられる)
- グローバルルーティングプレフィックスはISPから割り当てられる
- サブネットIDは組織内などで自由に割り当てる

#### ULA (Unique Local IPv6 Unicast Address)
- ユニークローカルユニキャストアドレス

```
プレフィクス (fc00::/7) + L (1ビット: ローカルかどうか) + グローバルID + サブネットID + インターフェースID
```

- 組織内で自由に割り当てられる一意なアドレス
- 異なるネットワーク上のホストと通信できるが、組織内ネットワークでのみ使用される
- 他のネットワーク内のプライベートアドレスと競合する可能性が低い
  (プライベートネットワークを合併してもアドレスが競合しない)

### エニーキャストアドレス
- アドレス構成はユニキャストアドレスと同じ
- ネットワーク上のいずれかのホストとの通信で使用するアドレス
- 複数の端末に同じグローバルユニキャストアドレスを設定し、
  エニーキャストアドレスであることを明示的に設定すると
  エニーキャストアドレスとして動作する

## 参照
- Linuxプログラミングインターフェース 58章
- Software Design 2021年5月号 ハンズオンTCP/IP
- マスタリングTCP/IP 入門編
- パケットキャプチャの教科書
