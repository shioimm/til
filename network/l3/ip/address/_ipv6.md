# IPv6アドレス
- 128ビットサイズ (16ビットずつをコロンで区切り16進数で表記する)
- 一つのネットワークインターフェースに対して複数の種類のアドレスを割り当てられ、必要に応じて使い分ける
- 先頭のビットパターンでIPアドレスの種類を区別する
- IPv4射影IPv6アドレス - IPv4にのみ対応しているホストと通信する際のIPv4-mappedアドレス

## 構成
- `プレフィクス:インターフェースID/プレフィクス長`
- アドレス中0のみで表現されるグループは1グループに限り省略可能
- グループの先頭の0は省略可能

```
2001:0db8:0000:0056:0000:abcd:ef12:3456/60
2001:db8:0:56:0:abcd:ef12:3456/60
2001:db8::56:0:abcd:ef12:3456/60
2001:db8:0:56::abcd:ef12:3456/60
```

#### プレフィクス
- そのIPアドレスが属するネットワークの識別子

#### プレフィクス長
- プレフィクスの長さ

#### インターフェースID
- 当該ネットワーク上の特定のネットワークインターフェースの識別子
- 同じホストに複数のインターフェースIDが割り当てられるケースがある

#### ループバックアドレス
- `0:0:0:0:0:0:0:1/128` (`::1/128`)

#### 不定アドレス
- `0:0:0:0:0:0:0:0/128` (`::/128`)

## パケットの到達範囲
#### リンクローカル
- 同じネットワーク上のホストと通信する場合に使用されるアドレス

#### ユニークローカル
- 異なるネットワーク上のホストと通信できるが、組織内ネットワークでのみ使用されるアドレス
- IPv4のプライベートアドレスに相当する

#### グローバル
- 全てのIPv6ネットワーク上で一意となるアドレス
- IPv4のグローバルアドレスに相当する

## アドレスタイプ
### ユニキャストアドレス
- 特定のホストを指し示すアドレス
- 1:1の通信で使用するアドレス

#### リンクローカルユニキャストアドレス
- `fe80::<インターフェースID>/64`
- 自身の属するネットワーク内でのみ使用できるアドレス
- IPv4におけるリンクローカルアドレスに相当する
- ルーティングプロトコルなどで用いられる

#### グローバルユニキャストアドレス
- `2000::<インターフェースID>/3`
- インターネット上で一意に識別できるアドレス (IANAによって割り当てられる)
- グローバルルーティングプレフィックスはISPから割り当てられる
- サブネットIDは組織内などで自由に割り当てる

#### ユニークローカルアドレス
- `fc00::<インターフェースID>/7`
- 組織内で自由に割り当てられる一意なアドレス

### マルチキャストアドレス
- `ff00::<インターフェースID>/8`
- 当該ネットワーク上の特定の複数の端末を表す
- ブロードキャストしたい場合もマルチキャストアドレスを使用する

### エニーキャストアドレス
- ネットワーク上のいずれかのホストとの通信で使用するアドレス
- 複数の端末に同じグローバルユニキャストアドレスを設定し、
  エニーキャストアドレスであることを明示的に設定すると
  エニーキャストアドレスとして動作する

## 参照
- Linuxプログラミングインターフェース 58章
- Software Design 2021年5月号 ハンズオンTCP/IP
- マスタリングTCP/IP 入門編
- パケットキャプチャの教科書
