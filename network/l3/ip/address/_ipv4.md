# IPv4アドレス
- 32ビットサイズ (8ビットずつドットで区切り10進数で表記する)
- `ネットワーク部 . ホスト部 / プレフィックス長`
  - ネットワーク部はデータリンクのセグメントごとに重複しない値が割り当てられる
    - 同じセグメントに接続されているノードのネットワークインターフェースには同じ値が設定される
    - IPパケットが途中のルーターで転送される際は宛先IPアドレスのネットワーク部を利用する
  - ホスト部は同一セグメント内で重ならない値が割り当てられる
- ループバックアドレス - 127.0.0.1

## アドレス表現
### CIDR (Classless InterDomain Routing) による表現
- クラスA・B・Cのネットワークを小さく区切るサブネットワークアドレスを利用する
  - ホスト部をサブネットワークアドレス部として使うことにより複数の物理ネットワークに分割する

#### サブネットマスク
- IPアドレスと同じ構造を持つ32ビットの正値
- IPアドレスのネットワーク部とホスト部の区切りを示すために用いる
- ネットワーク部を1、ホスト部を0で表す

```
192.0.2.1/24 - 24ビット目までがネットワーク部、25ビット目以降がホスト部

11000000 00000000 00000010 00000001 - 2進数 (192.0.2.1)
11111111 11111111 11111111 00000000 - サブネットマスク

11000000 00000000 00000010 00000000 - ネットワーク部 (192.000.002.000)
00000000 00000000 00000000 00000001 - ホスト部 (000.000.000.001)
```

### クラスによる表現(初期のIPで使用)
#### Aクラス
- 先頭1ビットが0
- ネットワーク部: 1 ~ 8ビット
- ホスト部: 9 ~ 32ビット
- 0.0.0.0 ~ 127.255.255.255.255
- ユニキャスト・大規模ネットワーク

#### Bクラス
- 先頭2ビットが10
- ネットワーク部: 1 ~ 16ビット
- ホスト部: 17 ~ 32ビット
- 128.0.0.0 ~ 191.255.255.255.255
- ユニキャスト・中規模ネットワーク

#### Cクラス
- 先頭3ビットが110
- ネットワーク部: 1 ~ 24ビット
- ホスト部: 25 ~ 32ビット
- 192.0.0.0 ~ 223.255.255.255.255
- ユニキャスト・小規模ネットワーク

#### Dクラス
- 先頭4ビットが1110
- ネットワーク部: 1 ~ 32ビット
- ホスト部: 存在しない
- 224.0.0.0 ~ 239.255.255.255.255
- マルチキャスト

## 種類
### グローバルアドレス / プライベートアドレス
- グローバルアドレス - インターネット上の一意なアドレス
- プライベートアドレス - 組織内の一意なアドレス
- プライベートアドレスとグローバルアドレスを相互に変換するためにNATを利用する

## 端末に設定できないアドレス (除外アドレス)
- ネットワークアドレス
  - ホスト部のビットが全て0
  - ネットワークそのものを示す
- デフォルトルートアドレス
  - IPアドレス、サブネットマスクのビットが全て0
  - 全てのネットワークを示す
- ブロードキャストアドレス
  - ホスト部のビットが全て1
  - 当該ネットワーク上のすべての端末を示す
- ループバックアドレス
  - 第一オクテットが127 (127.0.0.1を使用する場合が多い)
  - 当該端末自身を示す

## 参照
- Linuxプログラミングインターフェース 58章
- Software Design 2021年5月号 ハンズオンTCP/IP
- マスタリングTCP/IP 入門編
- パケットキャプチャの教科書
