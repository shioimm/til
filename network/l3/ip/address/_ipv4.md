# IPv4アドレス
- 32ビットサイズ (8ビットずつドットで区切り10進数で表記する)
- サブネットマスクと共に使用される
- ループバックアドレス - 127.0.0.1

## 構成
- `ネットワーク部 . ホスト部 / プレフィックス長`

#### ネットワーク部
- そのIPアドレスが属するネットワークを表す値
- データリンクのセグメントごとに重複しない値が割り当てられる
- 同じセグメントに接続されているノードのネットワークインターフェースには同じ値が設定される
- IPパケットが途中のルーターで転送される際は宛先IPアドレスのネットワーク部を利用する

#### ホスト部
- 当該ネットワーク内の特定のネットワークインターフェースを表す値
- 同一セグメント内で重ならない値が割り当てられる

## CIDR (Classless InterDomain Routing) 表記 (プレフィクス表記)

```
192.0.2.1/24 - 24ビット目までがネットワーク部、25ビット目以降がホスト部

11000000 00000000 00000010 00000001 - 2進数 (192.0.2.1)

11000000 00000000 00000010 00000000 - ネットワーク部 (192.000.002.000)
00000000 00000000 00000000 00000001 - ホスト部 (000.000.000.001)
11111111 11111111 11111111 00000000 - サブネットマスク
```

#### サブネットマスク
- IPアドレスと同じ構造を持つ32ビットの正値
- IPアドレスのネットワーク部とホスト部の区切りを示すために用いる
- ネットワーク部を1、ホスト部を0で表す

## 分類
### クラスによる分類
- 0.0.0.0から255.255.255.255までのIPアドレスを範囲で区切る

| クラス | アドレス範囲                | 用途                     | プライベートアドレス範囲      |
| -      | -                           | -                        | -                             |
| A      | 0.0.0.0   ~ 127.255.255.255 | ユニキャスト・超大規模NW | 10.0.0.0    ~ 10.255.255.255  |
| B      | 128.0.0.0 ~ 191.255.255.255 | ユニキャスト・大規模NW   | 172.16.0.0  ~ 173.31.255.255  |
| C      | 192.0.0.0 ~ 223.255.255.255 | ユニキャスト・小中規模NW | 192.168.0.0 ~ 192.168.255.255 |
| D      | 224.0.0.0 ~ 239.255.255.255 | マルチキャスト           | -                             |
| F      | 240.0.0.0 ~ 255.255.255.255 | 研究・予約用             | -                             |

### グローバルアドレス / プライベートアドレスによる分類
- グローバルアドレス - インターネット上の一意なアドレス
- プライベートアドレス - プライベートなネットワーク内での一意なアドレス
- プライベートアドレスからインターネットへ接続する際、
  およびインターネットからプライベートアドレスへ接続する際は
  グローバルアドレス - プライベートアドレス間での相互変換が必要 (NAT)

## 端末に設定できない予約アドレス (除外アドレス) による分類
#### ネットワークアドレス
- ネットワークそのものを示す
- ホスト部のビットが全て0

#### ブロードキャストアドレス
- 当該ネットワーク内のすべての端末を示す
- ホスト部のビットが全て1

#### マルチキャストアドレス
- 当該ネットワーク内の特定の複数の端末を表す

#### デフォルトルートアドレス
- 全てのネットワークを示す
- IPアドレス、サブネットマスクのビットが全て0

#### ループバックアドレス
- 当該端末自身を示す
- 第一オクテットが127 (127.0.0.1を使用する場合が多い)

## 参照
- Linuxプログラミングインターフェース 58章
- Software Design 2021年5月号 ハンズオンTCP/IP
- マスタリングTCP/IP 入門編
- パケットキャプチャの教科書
