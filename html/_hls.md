# HLS
## TL;DR
- HTML Live Streaming
- 動画ストリーミング再生の仕組み(Appleが提唱)

### 特徴
- リアルタイム中継などのストリーミングに使用できる
- 通信回線のビットレートに合わせて適切な解像度の動画が選択できる
- 字幕スーパー・音声切り替えに対応している
- 動画フォーマットとしてはMPEG2-TS / Fragment MP4に対応
- 動画形式としてはH.264 / AAC、音声形式としては MP3 / AC-3をサポート

## 仕組み
### 配信側
1. 動画や音声を10秒ごとのMPEG-2 TS(Transport Stream)形式のファイルに分割する
2. 再生順などを記したプレイリスト形式のインデックスファイル(.m3u8ファイル)を作成する

### 再生側
- インデックスを受信し、これに従って順番にファイルを要求し、受信したものから再生を開始する

## 利点
- HTTPを利用しているため、Webサーバーやコンテンツ配信ネットワークを使用できる
  - サーバー側ではMIMEタイプとキャッシュの生存期間を設定する

## 欠点
- 実体はプログレッシブダウンロード方式であり、チャンクごとにダウンロードが完了しないと再生を開始できない
  - 目安として30秒ほどの遅延がある
- HLSをサポートしている環境が限られている

## 参照
- [ HLS 【HTTP Live Streaming】 HTTPライブストリーミング ](https://e-words.jp/w/HLS.html)
- Real World HTTP 第2版
