# WebRTC
- ブラウザ間での動画・音声・データ通信を実現するUDPベースの通信(サーバーを介した通信も可)

### 特徴
- プラグインやサードパーティソフトウェアのインストールが不要
- NATを超えてプライベートアドレスだけで通信が可能
- 通信はデフォルトで暗号化されている
  - DTLS(データグラム向けのTLS)を採用
- ライブ配信におけるリアルタイム性の高さ

### ユースケース
- P2P
  - プライベートなネットワークのビデオ通話システム
  - グローバルなネットワークのビデオ通話システム(ICEを使用)
  - ファイアウォール越しのビデオ通話システム
  - スクリーンの共有
  - ファイル交換
  - 複数人でのビデオ通話
  - 複数人でのボイスチャットつきのオンラインゲーム
- MCU(サーバーが各区クライアントの映像を合成して配信) / SFU(サーバーが各クライアントの映像を中継)
  - カスタマーセンター
  - IP電話端末
  - 中央サーバーを使ったビデオ会議システム

## 技術要素
### SDP
- Session Description Protocol
- P2Pのネゴシエーション時にお互いのIPアドレスとポート、
  双方で利用できるオーディオや動画のコーデック情報を共有するための技術

### ICE
- Interactive Connectivity Establishment
- NATを超えてP2P通信を確立するための技術
  - STUNサーバー - リクエストがあったグローバルIPアドレスとポートをNAT内のコンピュータに返送する
  - TURNサーバー - STUNサーバーで通信できなかった際、TCPへのフォールバックを仲介する
- ICEのプロセスの内部でSDPを使用している

### RTCPeerConnection
- 通信経路の確保とメディアチャネルのオープンを行うブラウザAPI

#### メディアチャネル
- 音声と映像をP2Pで送受信する
- DTLS上でセキュアなリアルタイム通信(SRTP)として実行される

### RTCDataChannel
- データチャネルの通信を行うブラウザAPI

#### データチャネル
- 音声以外のデータをP2Pで送受信する
- DTLS上でセキュアなリアルタイム通信(SRTP)として実行される

### mediaDevices.getUserMedia
- カメラ・マイクデバイスの設定と取得を行うブラウザAPI


## 参照
- [WebRTC](https://webrtc.org/)
- [WebRTC API](https://developer.mozilla.org/ja/docs/Web/API/WebRTC_API)
- [WebRTC コトハジメ](https://gist.github.com/voluntas/67e5a26915751226fdcf)
- Real World HTTP 第2版
