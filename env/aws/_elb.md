# Elastic Load Balancing
- 参照: [Elastic Load Balancing](https://aws.amazon.com/jp/elasticloadbalancing/)
- 参照: AWSをはじめよう　～AWSによる環境構築を1から10まで～
- 参照: サーバ・インフラエンジニアの基本がこれ一冊でしっかり身につく本 9.3

## TL;DR
- 複数のターゲットに渡る着信トラフィックを分配するロードバランサ
  - ALB(Application Load Balancer) - リクエストレベル(HTTP / HTTPS)
  - NLB(Network Load Balancer) - 接続レベル(TCP / UDP)
  - CLB(Classic Load Balancer)
- 冗長化やパフォーマンスの調整を行う
- スペックやノード数の指定はなく、リクエストの量やELBの負荷などによって自動的に調整される
- アクティブレベルチェックによる疎通確認と切り離しが可能

## 振分方式
- ラウンドロビン
- LOR(最小未解決リクエスト)

## 利用方法
1. 種類・利用するVPC・ゾーン・アタッチするセキュリティグループを
指定する
2. AWSがそれぞれ指定されたゾーンにELBのノードを起動する
3. ELBの作成時に発行された接続先のエンドポイント(ドメイン名・ポート番号)を、本来利用したいドメインのCNAMEレコードとしてDNSに設定する

## Get Started
1. EC2ダッシュボード
  -> ロードバランサー
  -> ロードバランサーの作成(-> 種類の選択)
2. ロードバランサーの設定
    - 全てのAZにチェック
3. セキュリティ設定の構成 -> セキュリティグループの設定
4. ルーティングの設定
    - ターゲットグループ - ロードバランサーの分散先となるサーバーのグループ
5. ターゲットの登録
    - インスタンスの選択 -> 登録済みに追加
6. 確認
7. ヘルスチェック
    - EC2ダッシュボード
    -> ターゲットグループ
    -> ターゲット
    -> ステータス
8. Route53でElasticIPを直接指定している箇所を修正
    - Alias - Alias Targetにロードバランサーを指定
