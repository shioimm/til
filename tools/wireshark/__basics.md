# Wireshark
## 表示フィルタ
```
[フィールド名] [リレーション] [値]
```

- フィールド名
  - eth.addr (MACアドレス)
  - arp (ARPフレーム)
  - ip (IPv4パケット)
  - ipv6 (IPv6パケット)
  - ip.addr (IPv4パケット)
  - tcp (TCPセグメント)
  - tcp.port (TCPのポート番号)
- リレーション
  - eq (==)
  - ne (!=)
  - gt (>)
  - lt (<)
  - ge (>=)
  - le (<=)
  - contains (含む)
  - matches (合致する)
- 値
  - フィールド名に応じた値や文字列

## キャプチャオプション
### 入力
#### プロミスキャス
- インターフェースの動作モード
- 有効化: 受け取ったパケットを全て取り込んで処理する
- 無効化: 自分に関係のあるパケットのみ取り込んで処理する
  - 自分自身のMACアドレスを宛先としたデータ
  - ブロードキャスト
  - マルチキャスト

#### キャプチャフィルタ
```
[プロトコル名] [ディレクション] [タイプ] [値]
```

- プロトコル名
  - ether, arp, ip, ipv6, tcp, udp, icmp, broadcast, multicast
- ディレクション
  - src (送信元),  dst (宛先),  src and dst (送信元と宛先),  src or dst (送信元か宛先)
- タイプ
  - proto (プロトコル番号)
  - host (アドレス)
  - net (ネットワーク)
  - port (ポート番号)
  - portrange (複数のポート番号)
- 値
  - 0XXXXX (プロトコル番号)
  - XX:XX:XX:XX:XX:XX (MACアドレス)
  - X.X.X.X (IPアドレス)
  - y (ポート番号)
  - y-z (複数のポート番号)

## pcap
- パケットをキャプチャするために必要なデバイスドライバ・ライブラリを提供するAPI
- Wiresharkはlibpcap(UNIXによるpcap実装)を利用して実装されている

## 参照
- パケットキャプチャの教科書
