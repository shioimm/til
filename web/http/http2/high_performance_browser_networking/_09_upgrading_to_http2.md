# HTTP/2 (High Performance Browser Networking | O'Reilly)まとめ
- 引用: [HTTP/2](https://hpbn.co/http2/)

## Upgrading to HTTP/2
- 最近のブラウザはすべてHTTP/2のサポートに取り組んでいる
- ただしHTTP/1.xは現在も使用されているため、
  ほとんどのサーバーとクライアントはHTTP/1.xとHTTP/2の両方をサポートする必要がある
- HTTP/2クライアント-サーバー間は、アプリケーションデータを交換する前に
  どのプロトコルを使用するかを検出し、ネゴシエーションする必要がある

### HTTP/2へのアップグレード方法(A)
- TLSとALPNを使用した安全な接続を介してHTTP/2接続へのネゴシエーションを行う
  - HTTP/2標準は、TLSによる接続が必須ではないが、最も信頼できる接続方法として用いられる
    - ALPNネゴシエーションを使用するTLSは、ブラウザでHTTP/2を有効にするための事実上の要件となっている

### HTTP/2へのアップグレード方法(B)
- 平文によるHTTP接続を行いHTTP/2へアップグレードする
  - HTTP/1.xとHTTP/2は同じポート(80)を使用する
  - HTTP/1.1以前と同じ方法でクライアントからサーバーへ接続を行い、
    サーバーが対応していればHTTP/2に移行する

### HTTP/2へのアップグレード方法(C)
- 平文によるHTTP/2を行う
  - DNSレコード、手動設定などの手段によってHTTP/2サポートに関する情報を取得することもできる
  - 失敗した場合はアップグレードワークフローに戻るか(B)、
    ALPNネゴシエーションを使用してTLSトンネルに切り替えられる(A)
