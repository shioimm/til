# HTTP/2 (High Performance Browser Networking | O'Reilly)まとめ
- 引用: [HTTP/2](https://hpbn.co/http2/)

## One Connection Per Origin
- HTTP/1.xでは並列多重化のために複数のTCP接続が必要とされていた
- HTTP/2ではフレーム管轄によって並列多重化を行うことができるため、
  一つの永続的なTCP接続を使いまわすことができる

### TCP接続数削減によるパフォーマンスその他最適化
  - TCPは長時間の大量データ転送に最適化されており、
    同じコネクションを再利用することによってプロトコル全体のオーバーヘッドを削減することができる
  - 接続数が減少することによって全接続パス(クライアント、サーバー)に沿ったメモリおよび処理が削減される
  - -> 全体的な運用コストが削減され、ネットワーク使用率および容量が改善される

### TCP接続数削減による利点
- TLSハンドシェイクの削減
- セッションの再利用の改善
- 必要なクライアントとサーバーのリソース全体の削減

### headof-lineブロッキング
- HTTPではHead of Lineブロッキングが廃止されたが、TCPレベルではまだ存在している
  - Head of Lineブロッキング -> 複数のパケットを送る際、先攻のパケットがロストすると後続が詰まる減少
- ウインドウ・スケーリングが無効になっている場合、帯域幅遅の影響により接続スループットが制限されることがある
  - ウインドウ・スケーリング -> RWIN(受信側で用意している受信バッファのサイズ)の最大値を上げる
- パケットロスが発生すると、TCP輻輳ウインドウのサイズが小さくなり、接続全体の最大スループットが低下する
