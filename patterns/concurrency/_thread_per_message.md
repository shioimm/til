# Thread-Per-Message
- 参照: Java言語で学ぶデザインパターン入門 マルチスレッド編 第7章

## TL;DR
- Client側がHost側にリクエストを送信する
  Host側がClient側からリクエストを受信し処理を行う
  - Host側にはリクエストを処理するために毎回新しいスレッドを生成する
- ClientとHostは互いの処理に影響を及ぼさない
- 処理の生成と実行を分離する
  - 応答性が向上する
  - 実行順序を制御することができる
  - キャンセル・繰り返し実行が可能
  - 分散処理を実現できる

## 要素
### Client
- Hostに対してリクエストを送信する

### Host
- Clientからのリクエストを受信して処理を実行する
- Hostの中で新しいスレッドを立ち上げる

### Helper
- リクエストを処理する機能をHostに提供する

## 適用可能性
- 処理の順序を気にしないとき
- 返り値が不要なとき
  - 処理の結果が必要なときはFutureパターンを使用する
- Webサーバーへの応用
  - クライアントからのリクエストをサーバーが受け取り、
    実際の処理はサーバーが別のスレッドを起動して行う

## 生存性

## 再利用性

## パフォーマンス
- Clientに対するHostの応答性が上がり遅延時間が下がる
- スレッドの起動にかかる時間を節約するためにWorkerThreadパターンを使用するケースもある

## 関連するパターン
- Future
- WorkerThread
