# Clean Architecture 達人に学ぶソフトウェアの構造と設計
- アーキテクチャの関心事 - コンポーネントの分離、データ管理、機能

## プログラミングパラダイム

| 種類   | 制限された機能                          | 導入された概念         | 発展的な考え方           |
| -      | -                                       | -                      | -                        |
| 構造化 | 直接的な制御の移行 (goto文の使用)       | 機能分割、テスト可能性 | -                        |
| OOP    | 間接的な制御の移行 (関数ポインタの使用) | 依存関係の方向の制御   | プラグインアーキテクチャ |
| 関数型 | 代入 (可変変数の使用)                   | 可変性の分離           | イベントソーシング       |

## モジュールレベルの設計
- SOLID原則の目的 - 変更に強い、理解しやすい、再利用性の高いモジュールレベルのソフトウェア構造の構築

#### 単一責任の原則 (SRP)
- モジュールはたった一つのアクターに対して責務を負うべきである
  (= ユースケースの異なる複数のアクターが利用するモジュールは分割するべきである)

#### オープン・クローズドの原則 (OCP)
- モジュールは拡張に対しては開き、修正に対しては閉じていなければならない
  (= モジュールの振る舞いは既存の成果物を変更せず拡張できるようにすべきである)
  - モジュールの依存関係は階層構造とする
  - 上位レベルのモジュールは下位レベルのモジュールの変更の影響を受けないようにする

#### リスコフの置換原則 (LSP)
- S型のオブジェクトをT型のオブジェクトに置き換えても動作が変わらない場合、SはTの派生型である
  (= モジュールは定義されたインターフェースとそのインターフェースの実装の置換可能性に依存するべきである)

#### インターフェース分離の原則 (ISP)
- モジュールはモジュール自身が利用しない実装への依存を強制されるべきではない
  (= インターフェースはモジュールが必要とする実装ごとに分離されているべきである)

#### 依存関係逆転の原則 (DIP)
- モジュールは抽象的なインターフェース (= 変化しにくい要素) にのみ依存するべきである
  - 変化しやすい具象を参照・継承・オーバーライドしない

## コンポーネントレベルの設計
- コンポーネント - デプロイ単位

#### 再利用・リリース等価の原則 (REP)
- 再利用の単位とリリースの単位は等価になる
  - コンポーネントを構成するモジュールは凝集性のあるグループでなければならない
  - コンポーネントを構成するモジュール群はまとめてリリース可能でなければならない

#### 閉鎖性共通の原則 (CCP)
- 同じ理由、同じタイミングで変更されるモジュールはコンポーネントにまとめ、
  変更の理由やタイミングが異なるモジュールは別のコンポーネントに分ける
- 単一責任の原則と類似 (同じ理由で変更するものはひとまとめにする)

#### 全利用性の原則 (CRP)
- コンポーネントのユーザーに対して、実際に使わないモジュールへの依存を強要してはいけない
- インターフェース分離の原則と類似 (不要なものには依存しない)

## 参照
- Clean Architecture 達人に学ぶソフトウェアの構造と設計
