# Amazon ElastiCache
- マネージドキャッシュサービス (CP型)
- 互換性のあるDBエンジン: Memcached / Redis

## ElastiCache for Memcached
- インメモリ型キーバリューストア
- クラスタを構成し、クラスタは複数のAZにまたがって一つ以上のMemcachedキャッシュノードで構成される
- 各データはキーのコンシステントハッシュアルゴリズムに基づいて各ノードに分散して保存される
- クラスタにはElastiCache Cluster Clientを使ってアクセスする
- アプリケーションは指定されたキーを持つデータをキャッシュから探し、
  存在すればそのデータを利用する
  存在しなければキャッシュ対象のデータソースからデータを取得し、キャッシュに保存してデータを利用する

#### 用途
- キーバリュー型のデータをキャッシュし、低レイテンシで参照する
- マルチスレッドでアクセス可能な共通データをキャッシュする
- リクエスト量に応じてノードをスケールアウト・スケールインさせる

## ElastiCache for Redis
- インメモリ型キーバリューストア
- データが保存されているプライマリノードとは別にリードレプリカを別のAZに配置する (読み取り負荷の分散)
- プライマリノードに障害が発生した場合はリードレプリカの一つをプライマリノードに自動的に昇格する

#### クラスタモードが無効
- シャーディングを行わない (データを保存するノードを分けない)
- アプリケーションはキャッシュの更新処理を行う場合は指定のプライマリエンドポイントを使用する
- アプリケーションはキャッシュの参照のみを行う場合は指定の読み込みエンドポイントを使用する

#### クラスタモードが有効
- スロット数 (キーのハッシュ値) に応じてデータをシャーディングする
- アプリケーションはキャッシュの読み書きの際に単一の設定エンドポイントを使用する

## 参照
- AWSの基本・仕組み・重要用語が全部わかる教科書 06-03
