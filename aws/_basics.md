# AWS
## クラウドインフラストラクチャのメリット
- キャパシティの予測が不要
- スピードとアジリティの向上
- データセンターの運用保守が不要
- 世界中にデプロイできる

## グローバルインフラストラクチャ
- Region
  - 地理的ロケーション
  - 最低二つ以上のAZで構成される
- Availability Zone
  - 仮想的なデータセンター群
  - 他のAZの障害からの分離
    - 可用性を高めるため複数のAZを利用した実装をベストプラクティスとする

## リージョンとゾーン
### リージョン
- AWSの各種サービスが展開される単位
- リージョンごとに提供されるサービスが異なる

### ゾーン(AZ)
- ひとつのリージョン内でそれぞれが切り離され、
  冗長的な電力源・ネットワーク・接続機能を持つデータセンター
- ユーザーが認識する物理的地理的配置の最小単位
- ゾーンによって細かい制約が異なる

## サービス概観
### ネットワークとコンピューティング
#### VPC
- 仮想プライベートネットワーク
- ネットワーク内にサブネットを切り、その中で仮想サーバーを利用する

#### EC2
- 仮想サーバー
  - OSの選択
    - Win
    - Linux
  - サーバーの選択
    - アプリケーションサーバー
    - Webサーバー
    - プロキシサーバー
    - メールサーバー
    - DBサーバーetc

#### ELB
- ロードバランサ
  - ALB - リクエストレベル(HTTP / HTTPS)
  - NLB - 接続レベル(TCP / UDP)
- 冗長化やパフォーマンスの調整を行う

#### EC2 Auto Scaling
- オートスケーリング
- EC２の負荷の増減に合わせてキャパシティを自動的にスケーリングする
- CloudWacthでターゲット超過を検知し、ELBに対してスケールアウト/スケールインを指示する

### ストレージとデータベース
- データ特性に合わせた様々な種類のデータストアを組み合わせる

#### EBS
- EC2に外付けしEC2内部で使用することができるストレージ
- 自動的にレプリケートを行う
- スナップショットでバックアップを行うことができる(-> 共有ストレージS3)

#### S3
- オブジェクトストレージ
- HTTPでアクセスを行う(アップロード・ダウンロード)
- データをオブジェクトとしてバケットに保存する
  - バケット名は一意であること(HTTPアクセスをするためのキーとなるため)
- オブジェクトは少なくとも3つのAZに保存され、高い耐久性を持つ

#### RDS
- フルマネージドRDBMS
- 既存のDBエンジンを使用可能
- アプリケーション最適化以外の作業の(バックアップやスケーリング・更新など)を自動で行う
- プライマリDBとスタンバイDBを用意した際、
  スタンバイDBにデータを同期させることで可用性を上げることが可能(マルチAZ配置)
  - プライマリDBとスタンバイDBでアクセスポイントが同じ

### セキュリティ
- AWS責任共有モデル
  - AWSとAWSユーザー間における責任の共有
    - AWSが提供する機能を実際に利用するかどうかはユーザーに委ねられる
- セキュリティグループによって制御を行う

#### IAM
- AWSリソースへのアクセス制御
  - 認証 / 認可を行う
  - ユーザーあるいはグループごとに権限を付与する
  - AWSリソース同士の認証・認可を行う

## 参照
- [AWSome Day](https://aws.amazon.com/jp/about-aws/events/awsomeday/)
- サーバ・インフラエンジニアの基本がこれ一冊でしっかり身につく本 9.3
