## EBS (Amazon Elastic Block Store)
- VPC内にEC2向けのブロックストレージを提供する (EBSボリューム: EBSによって作成されたストレージ)
- 同じAZ内のEC2にネットワークを介してアタッチされる
- データはAZ内で複数のハードウェアにレプリケーションされている
- ボリュームタイプ (ストレージの種類) を用途に応じて選択可能
- EC2とは別料金 (保存したデータ(GB 単位) / 月 + α)

#### EBSボリュームの種類
- 汎用SSD (gp2)
- Provisioned IOPS SSD (io2)
- スループット最適化HDD (st1)
- Cold HDD (sc1)

## バックアップ
- EBSはEBSボリュームのバックアップをスナップショットとして取得することが可能
  - ある時点でのEBSボリュームを丸ごと保存する
  - スナップショットはAWSが管理するS3に保存されている
- EBSボリュームのバックアップは増分バックアップにて行われる
- スナップショットはAZの異なるEC2にアタッチ可能
- スナップショットを取る際、ハードディスクへの読み書きが停止されていること
  - インスタンスをシャットダウンしておく
  - あるいは対象のEBSボリュームをアンマウントしておく

## EC2インスタンスのAMIを作成する
- EC2ダッシュボード
  -> インスタンス
  -> 該当のEC2インスタンス
  -> イメージの作成(-> イメージ名の入力)
  -> EBSスナップショットとAMIが生成される

#### イメージ作成時のバックグラウンドの挙動
1. インスタンスの停止
2. インスタンスに紐づくEBSボリュームのEBSスナップショットを取る
3. EBSスナップショットを元にAMIを作る
4. インスタンスの起動

## 参照
- [Amazon EC2](https://aws.amazon.com/jp/ec2/?nc2=h_ql_prod_fs_ec2)
- AWSをはじめよう　～AWSによる環境構築を1から10まで～
- サーバ・インフラエンジニアの基本がこれ一冊でしっかり身につく本 9.3
- AWSの基本・仕組み・重要用語が全部わかる教科書 05-03
